# application-test.yml - IDM Test profile configuration

spring:
  datasource:
    url: jdbc:h2:mem:idm-test;DB_CLOSE_DELAY=-1;MODE=MariaDB
    driver-class-name: org.h2.Driver
    username: sa
    password:

  jpa:
    hibernate:
      ddl-auto: create-drop
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: false

  liquibase:
    enabled: false

logging:
  level:
    root: INFO

idm:
  bootstrap:
    enabled: false
    mode: safe
    base-path: idm/bootstrap
    admin-xml: admin.xml
    scopes-xml: scopes.xml
    permission-groups-xml: permission-groups.xml
    permissions-xml: permissions.xml
    roles-xml: roles.xml
    role-permission-assignments-xml: role-permission-assignments.xml
    user-role-assignments-xml: user-role-assignments.xml
    admin:
      username: admin
      password: admin

  self:
    scope:
      application-key: IDM
      stage-key: TEST

  security:
    jwt:
      # Muss existieren, sonst fliegt JwtService beim Instantiieren
      secret: test-secret-32-bytes-minimum-length-123456
      ttl-ms: 3600000